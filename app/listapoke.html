<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista Pokemon</title>
    <!-- LINK DEL FAVICON -->
    <link rel="shortcut icon" href="https://pokedex.petrovicstefan.rs/images/pikachu.png" type="image/x-icon">

    <!-- CSS Boostrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Ribeye&display=swap" rel="stylesheet">

    <!-- Boostrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">

    <!-- Confeti -->
    <script src="https://cdn.jsdelivr.net/npm/js-confetti@latest/dist/js-confetti.browser.js"></script>
    <style>
        /* body {
           background-image: url(img/Usuario.jpg);
           background-size: cover;
        } */
        img {
            width: 100px;
        }
        h1{
        text-align: center;
        margin:0 auto;
        font-family: 'Ribeye', cursive;
        font-size: 47px;
        white-space: nowrap;
        border-right: 4px solid;
        width: 11ch;
        animation: typing 2s steps(12), blink .5s infinite step-end alternate;
        overflow:hidden;
        text-align: center!important;
        }

        @keyframes typing {
            from { width: 0}
        }

        @keyframes blink {
            50% { border-color: transparent}
        }

        .container #imagen{
            height: 320px;
            width: 320px;
        }
       i{
        margin-right: 10px;
       }
       .modal-header{
        background-color: #2db973;
       }
       .btn.btn-success{
        background-color: #2db973;
       }
    </style>
</head>
<body>

     <!-- MENU DE NAVEGACION -->
    <header class="bg-warning">
        <div class="container">
            <nav class="navbar navbar-expand-lg bg-dangerr">
                <div class="container-fluid">

                    <a class="navbar-brand" href="#"><img src="https://poke-application.netlify.app/static/media/logo.5fbded64.webp"" alt="Pokemon Logo" class="logo"></a>

                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false"
                        aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse justify-content-end" id="navbarNavAltMarkup">

                        <div class="navbar-nav">
                            <a class="nav-link " aria-current="page" href="#">Usuario</a>
                            <a class="nav-link active" href="#">Pokemon List</a>
                            <a class="nav-link" href="#">Pokemon Favorites</a>
                            <a class="nav-link" href="#">Profile</a>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <!-- MAIN -->
    <h1 class="text-center mt-4 mb-4">Pokemon <span class="text-success">List</span></h1>

    <!-- LISTA POKEMON -->

    <div class="container">
        <div class="row d-flex justify-content-center">
            <!-- <h1 class="text-center my-4 text-danger">POKEMONS</h1>
            <h2 class="text-center text-primary">Primera Generación</h2> -->
            <div class="mb-3 col-12 col-md-6">
                <!-- <label class="form-label">Pokemons:</label> -->
                <Select name="select" id="pokemones" class="form-select" required></Select>
            </div>
        </div>
    </div>


    <div class="container text-center mt-4">
        <img id="imagen" class="d-block mx-auto">
        <p id="pokemon"></p>
        <button id="button" class="btn btn-outline-danger mt-4 mb-3" data-bs-toggle="modal" data-bs-target="#exampleModal"><i id="bi" class="bi bi-suit-heart-fill"></i>Agregar a Favoritos</button>
    </div>

    <!-- Button trigger modal -->
    
    
  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title fs-5 text-white" id="exampleModalLabel">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Pok%C3%A9_Ball_icon.svg/2052px-Pok%C3%A9_Ball_icon.svg.png" alt="" height="90" > Pokemon Agregado</h2>
          <!-- <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> -->
        </div>
        <div class="modal-body">
          !Bien hecho entrenador! , buena elecion al elegir tu compañero de batalla.
          Sera enviado a tus Favoritos
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-success" data-bs-dismiss="modal">Cerrar</button>
          <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
        </div>
      </div>
    </div>
  </div>

    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <script>
        // fetchData()
        const img = document.getElementById('imagen');
        const fetchimg = async (id) => {
            const pokemonos = await fetch(`https://pokeapi.co/api/v2/pokemon/${id}`);
            const dataimg = await pokemonos.json();
            img.setAttribute('src', dataimg.sprites.other.dream_world.front_default);
        }
        const fetchData = async () => {
            try {
                const res = await fetch(`https://pokeapi.co/api/v2/generation/generation-i`);
                const pokemonos = await fetch('https://pokeapi.co/api/v2/pokemon/1');
                const dataimg = await pokemonos.json();
                const data = await res.json();
                const pokemon = { img: dataimg.sprites.other.dream_world.front_default, name: data.name, lista: data.pokemon_species };
                llenarSelect(pokemon.lista);
            } catch (error) {
                console.log(error)
            }
        }
        fetchData()
        const llenarSelect = (lista) => {
            const select = document.getElementById('pokemones');
            select.addEventListener('change', ( event ) => {
                fetchimg(event.target.value)
             })
            for (const key in lista) {
                const opcion = document.createElement('option');
                opcion.setAttribute('value', lista[key].name)
                opcion.textContent = lista[key].name;
                select.append(opcion)

                //Insertar Pokemon
            
            }
        }
        
        // CONFETI------------------------------------
        const jsConfetti = new JSConfetti()


        let button = document.getElementById("button")
        button.addEventListener("click", (e) => {
            jsConfetti.addConfetti()
        })
        

        
    </script>
</body>
</html>